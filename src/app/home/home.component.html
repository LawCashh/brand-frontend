<main class="home">
  <div class="home__kategorije">
    <ul class="home__kategorije__sidebar" *ngIf="!loadingMainKategorije">
      <li *ngFor="let mainKategorija of mainKategorije"><a>{{mainKategorija.title}}</a></li>
    </ul>
    <div class="home__kategorije__slider-div">
      <div class="home__kategorije__slider-div__dots">
        <input *ngFor="let subkategorija of mainKategorije; index as i" type="radio" name="kategorija" id="{{i}}"
               [checked]="selectedCarouselIndex == i"
               (click)="goTo(i)">
      </div>
      <button class="home__kategorije__slider-div__left" (click)="goTo('left')"><</button>
      <button class="home__kategorije__slider-div__right" (click)="goTo('right')">></button>
      <div class="home__kategorije__slider-div__top" #slidertop [ngStyle]="{'width': carouselLength*100 + '%'}">
        <img *ngFor="let subkategorija of mainKategorije" [ngStyle]="{'width': 100/carouselLength + '%'}"
             src="{{subkategorija.imagePath}}" alt="">
      </div>
      <div class="home__kategorije__slider-div__bottom" #sliderbottom [ngStyle]="{'width': carouselLength*100 + '%'}">
        <div class="home__kategorije__slider-div__bottom__desc" *ngFor="let subkategorija of mainKategorije"
             [ngStyle]="{'width': 100/carouselLength + '%'}">
          <span>{{subkategorija.title}}</span>
          <div class="home__kategorije__slider-div__bottom__desc__popust">Popust 40%</div>
        </div>
      </div>
    </div>
    <div class="home__kategorije__akcije" *ngIf="!loadingDiscountedKategorije">
      <div class="home__kategorije__akcije__kategorija" *ngFor="let discountedKategorija of discountedKategorije">
        <span>{{discountedKategorija.title}}</span>
        <img src="{{discountedKategorija.imagePath}}" alt="">
      </div>
      <button>POGLEDAJ AKCIJE</button>
    </div>
  </div>

  <div class="home__izdvajamo" *ngIf="!loadingIzdvajamoKategorije">
    <div class="home__izdvajamo__kategorija">
      <span>
        Posebno izdvajamo
      </span>
      <span>
        {{selectedIzdvajamoCategory.title}}
      </span>
      <button>
        Pogledaj sve
      </button>
    </div>
    <div class="home__izdvajamo__podkategorije">
      <div *ngFor="let subcategory of selectedIzdvajamoSubCategories | slice:0:5;"
           class="home__izdvajamo__podkategorije__podkategorija">
        <img src="{{subcategory.imagePath}}" alt="">
        <span class="home__izdvajamo__podkategorije__podkategorija__naslov">
          {{subcategory.title}}
        </span>
        <span>
          -40%
        </span>
      </div>
    </div>
  </div>
<ng-container *ngIf="!loadingRandomSubCategorie1 && !loadingRandomSubCategorie2" >
  <div class="home__subcategory" *ngFor="let subcategory of randomSubcategories; index as i">
    <div class="home__subcategory__titlediv"
         [ngStyle]="i == 1 ? {'background-color': '#ffe0b0'} : {'background-color': '#3af9ed'} ">
      <span class="home__subcategory__titlediv__title">
        {{subcategory.title}}
      </span>
      <img src="{{subcategory.imagePath}}" alt="">
    </div>
    <div class="home__subcategory__products" *ngIf="i == 0">
      <div class="home__subcategory__products__product" *ngFor="let product of randomProducts1 | slice:0:8; index as i">
        <span class="home__subcategory__products__product__title">{{product.title}}</span>
        <span class="home__subcategory__products__product__code">Kod proizvoda:<br>{{product.code}}</span>
        <span class="home__subcategory__products__product__price">{{product.price}}€</span>
        <img src="{{product.imagePath}}" alt="">
      </div>
    </div>
    <div class="home__subcategory__products" *ngIf="i == 1">
      <div class="home__subcategory__products__product" *ngFor="let product of randomProducts2 | slice:0:8; index as i">
        <span class="home__subcategory__products__product__title">{{product.title}}</span>
        <span class="home__subcategory__products__product__code">Kod proizvoda:<br>{{product.code}}</span>
        <span class="home__subcategory__products__product__price">{{product.price}}€</span>
        <img src="{{product.imagePath}}" alt="">
      </div>
    </div>
  </div>
</ng-container>
</main>
